syntax = "proto3";

option go_package = "discord/gen/proto/schema";
package protoschema;

message TextGroup {
  int32 id = 1;
  string channel_id = 2;
  string name = 3;
  string topic = 4;
  int32 position = 5;
  int64 created_at = 6;
  int64 updated_at = 7;
  optional string operation = 8;
}

message TextChannel {
  int32 id = 1;
  int32 channel_id = 2;
  int32 server_id = 3;
  string topic = 4;
  bool is_nsfw = 5;
  int32 slowmode_delay = 6; // Seconds between messages
  bool is_archived = 7;
  int64 archived_at = 8;
  int32 message_count = 9;
  int32 last_message_id = 10;
  int64 created_at = 11;
  int64 updated_at = 12;
  optional string operation = 13;
}

message Thread {
  int32 id = 1;
  int32 parent_channel_id = 2;
  int32 owner_id = 3;
  string name = 4;
  bool is_archived = 5;
  int32 auto_archive_duration = 6; // Minutes
  int64 archive_timestamp = 7;
  bool locked = 8;
  int32 message_count = 9;
  int32 member_count = 10;
  int64 created_at = 11;
}

message PinnedMessage {
  int32 id = 1;
  int32 channel_id = 2;
  int32 message_id = 3;
  int32 pinned_by_user_id = 4;
  int64 pinned_at = 5;
  optional string operation = 6;
}
